<div class="min-h-screen">
  <div class="pt-[40px] flex flex-col items-center">
    <label
      for="profile-image"
      class="rounded-full h-32 w-32 overflow-hidden bg-gray-200"
    >
      <img
        id="preview-image"
        src="https://i.pinimg.com/originals/b9/68/56/b96856b18abfe860f9edc3dec1f12aab.jpg"
        alt="Profile Image"
        class="w-full h-auto"
      />
    </label>

    <p class="mt-3 py-1 px-7 rounded-full text-white bg-[#212A3E]">
      {{ getCapitalizedRole() }}
    </p>
  </div>

  <div>
    <div *ngIf="isCurrentUser()">
      <h1 class="pt-[10px] font-bold ml-[13.5%] text-[#394867]">Username</h1>
      <div class="flex items-center justify-center mt-2">
        <input
          type="text"
          class="w-[75%] rounded-lg p-2 px-3 bg-white drop-shadow border-gray-300 focus:outline-none focus:border-blue-500 cursor-not-allowed"
          value="{{ user.username }}"
        />
      </div>
    </div>

    <h1 class="pt-[16px] font-bold ml-[13.5%] text-[#394867]">Full Name</h1>
    <div class="flex items-center justify-center mt-2">
      <input
        [disabled]="!isCurrentUser()"
        [class.cursor-not-allowed]="!isCurrentUser()"
        type="text"
        class="w-[75%] rounded-lg p-2 px-3 bg-white drop-shadow border-gray-300 focus:outline-none focus:border-blue-500"
        [(ngModel)]="user.fullName"
      />
    </div>

    <h1 class="pt-[16px] font-bold ml-[13.5%] text-[#394867]">Email</h1>
    <div class="flex items-center justify-center mt-2">
      <input
        [disabled]="!isCurrentUser()"
        [class.cursor-not-allowed]="!isCurrentUser()"
        type="text"
        class="w-[75%] rounded-lg p-2 px-3 bg-white drop-shadow border-gray-300 focus:outline-none focus:border-blue-500"
        [(ngModel)]="user.email"
      />
    </div>

    <h1 class="pt-[16px] font-bold ml-[13.5%] text-[#394867]">Phone</h1>
    <div class="flex items-center justify-center mt-2">
      <input
        [disabled]="!isCurrentUser()"
        [class.cursor-not-allowed]="!isCurrentUser()"
        type="text"
        class="w-[75%] rounded-lg p-2 px-3 bg-white drop-shadow border-gray-300 focus:outline-none focus:border-blue-500"
        [(ngModel)]="user.phoneNumber"
      />
    </div>

    <h1 class="pt-[16px] font-bold ml-[13.5%] text-[#394867]">Address</h1>
    <div class="flex items-center justify-center mt-2">
      <textarea
        [disabled]="!isCurrentUser()"
        [class.cursor-not-allowed]="!isCurrentUser()"
        placeholder="Enter your address"
        class="w-[75%] rounded-lg p-4 bg-white drop-shadow border-gray-300 resize-none focus:outline-none focus:border-blue-500"
        [(ngModel)]="user.address"
      ></textarea>
    </div>

    <div *ngIf="isCurrentUser()">
      <h1 class="pt-[16px] font-bold ml-[13.5%] text-[#394867]">Points</h1>
      <div class="flex items-center justify-center mt-2">
        <input
          disabled
          type="text"
          class="w-[75%] rounded-lg p-2 px-3 bg-white drop-shadow border-gray-300 focus:outline-none focus:border-blue-500 cursor-not-allowed"
          value="{{ user.points }}"
        />
      </div>
    </div>
  </div>

  <div *ngIf="user.role === 'collector'">
    <h1 class="pt-[16px] font-bold ml-[13.5%] text-[#394867]">Items</h1>
    <div class="overflow-x-auto whitespace-nowrap">
      <div class="mt-2 flex px-10">
        <div
          *ngFor="let item of items"
          class="rounded shadow-lg basis-1/2 flex-shrink-0 m-5 cursor-pointer hover:bg-[#f4f4f4]"
          (click)="displayItemDetails(item)"
        >
          <img class="w-32 mx-auto" [src]="item.imageUrl" />
          <div class="px-6 py-4">
            <p class="text-gray-700 text-base">{{ item.authorName }}</p>
            <p class="font-bold text-md">{{ item.subCategory }}</p>
            <p class="text-gray-700 text-base">
              Items: {{ item.fullfiledAmount }}/{{ item.neededAmount }}
            </p>
            <p class="text-[#2DBE15] font-bold text-base">
              Points: {{ item.points }}/item
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="isCurrentUser()">
    <button
      class="flex items-center justify-center hover:bg-[#A30909] bg-[#EA5E5E] text-white font-bold py-2 px-4 rounded w-3/4 mx-auto mt-[16px]"
      (click)="onLogout()"
    >
      Logout
    </button>
  </div>

  <div class="pb-[30%]"></div>
</div>
